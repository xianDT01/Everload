<div class="spotify-split-container">
  <div class="left-panel spotify-panel">
    <img src="assets/Spotify.png" alt="Spotify Logo" class="left-logo" />
  </div>

  <div class="right-panel">
    <div class="spotify-card">
      <h2 class="spotify-title">{{ 'TITLE' | translate }}</h2>

      <p class="Spotify_Subtitle">{{ 'Spotify_Subtitle' | translate }}</p>

      <input type="text" [(ngModel)]="playlistUrl" [placeholder]="'PLACEHOLDER' | translate" class="spotify-input" />
      <p *ngIf="error" class="error-text">❌ {{ error }}</p>

      <button class="spotify-button" (click)="descargarListaCanciones()" [disabled]="cargando">
        {{ cargando ? ('LOADING' | translate) : ('SEARCH_BUTTON' | translate) }}
      </button>

      <!-- 🔙 Botón volver al inicio -->
      <a routerLink="/" class="forgot-link" aria-label="Volver al inicio">
        {{ 'HOME' | translate }}
      </a>

      <!-- 🌐 Botones de idioma -->
      <div class="language-switcher">
        <button (click)="changeLanguage('es')" aria-label="Cambiar a español">
          <span class="flag">🇪🇸</span>
        </button>
        <button (click)="changeLanguage('en')" aria-label="Switch to English">
          <span class="flag">🇬🇧</span>
        </button>
        <button (click)="changeLanguage('gl')" aria-label="Cambiar a galego">
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/64/Flag_of_Galicia.svg" alt="Galego"
            class="flag" />
        </button>
      </div>


      <button class="spotify-button secondary" *ngIf="resultado?.length" (click)="descargarTodas()">
        ⬇️ {{ 'DOWNLOAD_ALL' | translate }}
      </button>

      <div *ngIf="resultado?.length">
        <h4>🎵 {{ 'FOUND_TRACKS' | translate }}</h4>
        <ul class="track-list">
          <li *ngFor="let song of resultado">
            {{ song.title }}
            <button class="mini-button" (click)="descargarCancion(song.youtubeUrl)">
              {{ 'DOWNLOAD' | translate }}
            </button>
          </li>
        </ul>
      </div>

      <p *ngIf="!cargando && resultado && resultado.length === 0" class="error-text">
        ❌ {{ 'NO_RESULTS' | translate }}
      </p>
    </div>
  </div>
</div>