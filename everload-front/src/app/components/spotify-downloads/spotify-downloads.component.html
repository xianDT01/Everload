<div class="spotify-split-container">
  <div class="left-panel spotify-panel">
    <img src="assets/Spotify.png" alt="Spotify Logo" class="left-logo" />
  </div>

  <div class="right-panel">
    <div class="spotify-card">
      <h2 class="spotify-title">Spotify Playlist Downloader</h2>

      <p class="subtitle">Pega la URL de tu playlist y descarga las canciones una a una</p>

      <input
        type="text"
        [(ngModel)]="playlistUrl"
        placeholder="Pega aqu√≠ la URL de la playlist"
        class="spotify-input"
      />

      <button class="spotify-button" (click)="descargarListaCanciones()" [disabled]="cargando">
        {{ cargando ? 'Buscando canciones...' : 'Buscar canciones' }}
      </button>
      
      <button class="spotify-button secondary" *ngIf="resultado?.length" (click)="descargarTodas()">
        ‚¨áÔ∏è Descargar toda la playlist
      </button>

      <div *ngIf="resultado?.length">
        <h4>üéµ Canciones encontradas:</h4>
        <ul class="track-list">
          <li *ngFor="let song of resultado">
            {{ song.title }}
            <button class="mini-button" (click)="descargarCancion(song.youtubeUrl)">Descargar</button>
          </li>
        </ul>
      </div>

      <p *ngIf="!cargando && resultado && resultado.length === 0" class="error-text">
        ‚ùå No se encontraron canciones o hubo un error.
      </p>
    </div>
  </div>
</div>
